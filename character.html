<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Wahana dan aktifitas</title>

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

<style>
:root {
  --bg: #0a1428;
  --primary: #1a3d2e;
  --accent: #00ff9d;
  --text: #e0f7fa;
  --card: rgba(26, 61, 46, 0.6);
  --glow: 0 0 20px rgba(0, 255, 157, 0.5);
}

body {
  background: radial-gradient(circle at center, var(--bg) 0%, var(--primary) 100%);
  color: var(--text);
  overflow: auto;
  font-family: 'Poppins', sans-serif;
  height: auto;
  margin: 0;
}

canvas {
  position: fixed;
  top: 0; left: 0;
  z-index: 0;
}

/* Mobile First Design */
.mobile-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  min-height: 100vh;
  position: relative;
  z-index: 10;
}

/* Mobile Header */
.mobile-header {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1rem;
  background-color: rgba(0, 0, 0, 0.3);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* Mobile Icon Carousel */
.mobile-icon-container {
  display: flex;
  overflow-x: auto;
  padding: 1rem 0;
  gap: 1rem;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none; /* Firefox */
}

.mobile-icon-container::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Edge */
}

.mobile-icon {
  flex: 0 0 auto;
  width: 80px;
  height: 80px;
  border: 2px solid transparent;
  border-radius: 10px;
  transition: all 0.3s;
  cursor: pointer;
  opacity: 0.7;
  scroll-snap-align: center;
  object-fit: cover;
}

.mobile-icon.active {
  border-color: var(--accent);
  box-shadow: 0 0 12px rgba(0, 255, 157, 0.6);
  opacity: 1;
}

.mobile-icon:hover {
  opacity: 1;
  transform: scale(1.05);
  box-shadow: var(--glow);
}

/* Mobile Character Display */
.mobile-character {
  position: relative;
  width: 100%;
  height: 40vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  margin: 0.5rem;
}

.character-img {
  opacity: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: all 0.8s ease;
  filter: drop-shadow(0 0 30px rgba(0, 255, 157, 0.3));
  position: absolute;
}

.character-img.active {
  opacity: 1;
  z-index: 10;
  animation: hologram 1s ease;
}

@keyframes hologram {
  0% { filter: brightness(2) hue-rotate(90deg) blur(2px); transform: scale(1.05); opacity: 0; }
  50% { filter: brightness(1.5) hue-rotate(180deg); opacity: 1; }
  100% { filter: brightness(1) hue-rotate(0deg) blur(0); transform: scale(1); }
}

/* Mobile Info Panel */
.mobile-info {
  padding: 1.5rem;
  background-color: rgba(0, 0, 0, 0.3);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
}

/* Video Icon Button in Info Panel */
.info-video-btn {
  position: absolute;
  top: 1rem;
  right: 1rem;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background-color: rgba(0, 255, 157, 0.2);
  border: 1px solid var(--accent);
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: all 0.3s;
  z-index: 20;
}

.info-video-btn:hover {
  background-color: rgba(0, 255, 157, 0.4);
  transform: scale(1.1);
  box-shadow: 0 0 15px rgba(0, 255, 157, 0.6);
}

.info-video-btn svg {
  width: 24px;
  height: 24px;
  fill: var(--text);
}

/* Mobile Navigation */
.mobile-nav {
  display: flex;
  justify-content: space-between;
  padding: 1rem;
  background-color: rgba(0, 0, 0, 0.3);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.nav-btn {
  background-color: rgba(0, 255, 157, 0.2);
  border: 1px solid var(--accent);
  color: var(--text);
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s;
  min-width: 100px;
}

.nav-btn:hover {
  background-color: rgba(0, 255, 157, 0.4);
  transform: translateY(-2px);
}

/* glowing gradient text */
.glow {
  background: linear-gradient(90deg, var(--accent), #9fffe0, var(--text));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: glowMove 6s infinite linear;
  background-size: 200% 100%;
}

@keyframes glowMove {
  0% { background-position: 0 0; }
  100% { background-position: 200% 0; }
}

/* fade effect */
.fade {
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.7s ease;
}
.fade.show {
  opacity: 1;
  transform: translateY(0);
}

/* Video Modal */
.video-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  z-index: 100;
  justify-content: center;
  align-items: center;
}

.video-modal.active {
  display: flex;
}

.video-container {
  position: relative;
  width: 90%;
  max-width: 800px;
  background-color: #000;
  border-radius: 8px;
  overflow: hidden;
}

.video-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 36px;
  height: 36px;
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  z-index: 101;
  transition: all 0.3s;
}

.video-close:hover {
  background-color: rgba(255, 255, 255, 0.4);
}

.video-close svg {
  width: 20px;
  height: 20px;
  fill: white;
}

/* Desktop styles (keep original for larger screens) */
@media (min-width: 768px) {
  .mobile-container {
    flex-direction: row;
    height: 100vh;
  }
  
  .mobile-header {
    display: none;
  }
  
  .mobile-icon-container {
    flex-direction: column;
    width: 176px;
    height: auto;
    overflow-y: auto;
    padding: 0;
    border-right: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .mobile-character {
    height: auto;
    flex: 1;
    margin: 1rem;
  }
  
  .mobile-info {
    width: 35%;
    border-top: none;
    border-left: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .mobile-nav {
    display: none;
  }
  
  .character-img {
    max-width: 90%;
    max-height: 90%;
  }
}
</style>
</head>

<body>
<canvas id="stars"></canvas>

<div class="mobile-container">
  <!-- Mobile Header -->
  
  <!-- Mobile Icon Carousel -->
  <div class="mobile-icon-container" id="mobileIconList"></div>
  
  <!-- Mobile Character Display -->
  <div class="mobile-character" id="mobileCharacter"></div>
  
  <!-- Mobile Info Panel -->
  <div class="mobile-info fade" id="mobileInfo">
    <!-- Video Icon Button in Info Panel -->
    <div class="info-video-btn" id="infoVideoBtn">
      <svg viewBox="0 0 24 24">
        <path d="M8 5v14l11-7z"/>
      </svg>
    </div>
  </div>
  
  <!-- Mobile Navigation -->
  <div class="mobile-nav">
    <button id="prevBtn" class="nav-btn">◀ Sebelumnya</button>
    <button id="nextBtn" class="nav-btn">Selanjutnya ▶</button>
  </div>
</div>

<!-- Video Modal -->
<div class="video-modal" id="videoModal">
  <div class="video-container">
    <div class="video-close" id="videoClose">
      <svg viewBox="0 0 24 24">
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
      </svg>
    </div>
    <video id="videoPlayer" width="100%" controls>
      <source src="" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
</div>

<script>
/* === CHARACTER DATA === */
const characters = [
  {
    name: "Camping",
    title: "Nikmati malam berbintang di tengah alam terbuka. Tersedia area api unggun dan fasilitas lengkap.",
    weapon: "Free Listrik",
    ring: "Free Berenang",
    type: "Free Toilet & MCK",
    dmg: "SleepingBag",
    include: "Matras Kasur",
    image: "camping.png",
    icon: "tenda.png",
    video: "camping-video.mp4"
  },
  {
    name: "Glamping",
    title: "Bersama Keluarga Menikmati sejuknya Puncak dan pemandangan gunung.",
    weapon: "BedCover",
    ring: "Dispenser Air",
    type: "Sarapan Pagi untuk 4 Orang",
    dmg: "Private Bathroom",
    image: "https://picsum.photos/seed/glamping/800/600.jpg",
    icon: "https://picsum.photos/seed/glamping-icon/80/80.jpg",
    video: "glamping-video.mp4"
  },
  {
    name: "ATV",
    title: "Petualangan offroad melalui Kebun teh.",
    weapon: "ATV 125cc",
    ring: "Guide & helm",
    type: "Trek 1 km",
    dmg: "-",
    include: "Rp.100.000,-",
    image: "ATV.png",
    icon: "quad.png",
    video: "atv-video.mp4"
  },
  {
    name: "FlyingFox",
    title: "Melayang di ketinggian 30 meter dengan pemandangan Gunung Gede.",
    weapon: "150 meter panjang",
    ring: "Helm & harness pro",
    type: "-",
    dmg: "-",
    include: "-",
    image: "https://picsum.photos/seed/flyingfox/800/600.jpg",
    icon: "https://picsum.photos/seed/flyingfox-icon/80/80.jpg",
    video: "flyingfox-video.mp4"
  },
  {
    name: "High Rope",
    title: "Tantangan keseimbangan di ketinggian dengan berbagai rintangan.",
    weapon: "Safety Harness",
    ring: "Guide Profesional",
    type: "5 Jalur Berbeda",
    dmg: "-",
    include: "-",
    image: "https://picsum.photos/seed/highrope/800/600.jpg",
    icon: "https://picsum.photos/seed/highrope-icon/80/80.jpg",
    video: "highrope-video.mp4"
  },
  {
    name: "Paintball",
    title: "Permainan tim strategis dengan arena bertema militer.",
    weapon: "Marker Paintball",
    ring: "Pelindung Wajah",
    type: "100 Peluru",
    dmg: "Seragam Tim",
    include: "-",
    image: "https://picsum.photos/seed/paintball/800/600.jpg",
    icon: "https://picsum.photos/seed/paintball-icon/80/80.jpg",
    video: "paintball-video.mp4"
  },
  {
    name: "Archery",
    title: "Latihan memanah dengan target berjarak bervariasi.",
    weapon: "Busur Panah",
    ring: "Target Standar",
    type: "20 Anak Panah",
    dmg: "Pelindung Tangan",
    include: "Instruktur",
    image: "https://picsum.photos/seed/archery/800/600.jpg",
    icon: "https://picsum.photos/seed/archery-icon/80/80.jpg",
    video: "archery-video.mp4"
  },
  {
    name: "Rafting",
    title: "Arung jeram di sungai dengan tingkat kesulitan menengah.",
    weapon: "Perahu Karet",
    ring: "Helm & Pelampung",
    type: "3km Rute",
    dmg: "Guide Berpengalaman",
    include: "Makan Siang",
    image: "https://picsum.photos/seed/rafting/800/600.jpg",
    icon: "https://picsum.photos/seed/rafting-icon/80/80.jpg",
    video: "rafting-video.mp4"
  }
];

const mobileIconList = document.getElementById('mobileIconList');
const mobileCharacter = document.getElementById('mobileCharacter');
const mobileInfo = document.getElementById('mobileInfo');
const infoVideoBtn = document.getElementById('infoVideoBtn');
const videoModal = document.getElementById('videoModal');
const videoClose = document.getElementById('videoClose');
const videoPlayer = document.getElementById('videoPlayer');
let currentIndex = 0;

/* === RENDER CHARACTERS === */
function renderCharacters() {
  // Render icons
  mobileIconList.innerHTML = '';
  characters.forEach((char, i) => {
    const img = document.createElement('img');
    img.src = char.icon;
    img.className = 'mobile-icon';
    if (i === currentIndex) img.classList.add('active');
    img.addEventListener('click', () => switchCharacter(i));
    img.addEventListener('error', function() {
      // Fallback if image fails to load
      this.src = `https://picsum.photos/seed/fallback-${i}/80/80.jpg`;
    });
    mobileIconList.appendChild(img);
  });

  // Render character images
  mobileCharacter.innerHTML = '';
  characters.forEach((char, i) => {
    const img = document.createElement('img');
    img.src = char.image;
    img.alt = char.name;
    img.className = 'character-img' + (i === currentIndex ? ' active' : '');
    img.addEventListener('error', function() {
      // Fallback if image fails to load
      this.src = `https://picsum.photos/seed/fallback-${i}/800/600.jpg`;
    });
    mobileCharacter.appendChild(img);
  });

  renderInfo();
}

function renderInfo() {
  const c = characters[currentIndex];
  mobileInfo.classList.remove('show');
  setTimeout(() => {
    mobileInfo.innerHTML = `
      <!-- Video Icon Button in Info Panel -->
      <div class="info-video-btn" id="infoVideoBtn">
        <svg viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"/>
        </svg>
      </div>
      
      <h1 class="text-3xl font-bold glow">${c.name}</h1>
      <h3 class="text-lg mt-2 text-gray-300">${c.title}</h3>
      <div class="mt-4 space-y-1 text-base text-gray-400">
        <p><b class="text-white">✅:</b> ${c.weapon}</p>
        <p><b class="text-white">✅:</b> ${c.ring}</p>
        <p><b class="text-white">✅:</b> ${c.type}</p>
        <p><b class="text-white">✅:</b> ${c.dmg}</p>
        <p><b class="text-white">HARGA:</b> ${c.include}</p>
      </div>
    `;
    
    // Re-attach event listener to the new video button
    const newVideoBtn = document.getElementById('infoVideoBtn');
    newVideoBtn.addEventListener('click', openVideoModal);
    
    setTimeout(() => mobileInfo.classList.add('show'), 50);
  }, 300);
}

function switchCharacter(i) {
  const imgs = document.querySelectorAll('.character-img');
  const icons = document.querySelectorAll('.mobile-icon');
  imgs.forEach((img, index) => img.classList.toggle('active', index === i));
  icons.forEach((icon, index) => icon.classList.toggle('active', index === i));
  currentIndex = i;
  renderInfo();
  
  // Scroll to the selected icon on mobile
  if (window.innerWidth < 768) {
    const selectedIcon = mobileIconList.children[i];
    if (selectedIcon) {
      selectedIcon.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
    }
  }
}

/* === STAR BACKGROUND EFFECT === */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");
let stars = [];

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  stars = Array.from({ length: 100 }, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    size: Math.random() * 2,
    speed: Math.random() * 0.5 + 0.2
  }));
}
window.addEventListener("resize", resize);
resize();

function animateStars() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  stars.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(200, 220, 255, ${Math.random()})`;
    ctx.fill();
    s.y += s.speed;
    if (s.y > canvas.height) s.y = 0;
  });
  requestAnimationFrame(animateStars);
}
animateStars();

renderCharacters();

// Mobile navigation buttons
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

if (prevBtn) {
  prevBtn.addEventListener('click', () => {
    const len = characters.length;
    const prevIndex = (currentIndex - 1 + len) % len;
    switchCharacter(prevIndex);
  });
}

if (nextBtn) {
  nextBtn.addEventListener('click', () => {
    const len = characters.length;
    const nextIndex = (currentIndex + 1) % len;
    switchCharacter(nextIndex);
  });
}

// Touch swipe support for mobile
let touchStartX = 0;
let touchEndX = 0;

mobileCharacter.addEventListener('touchstart', (e) => {
  touchStartX = e.changedTouches[0].screenX;
});

mobileCharacter.addEventListener('touchend', (e) => {
  touchEndX = e.changedTouches[0].screenX;
  handleSwipe();
});

function handleSwipe() {
  if (touchEndX < touchStartX - 50) {
    // Swipe left - next character
    nextBtn.click();
  }
  if (touchEndX > touchStartX + 50) {
    // Swipe right - previous character
    prevBtn.click();
  }
}

// Keyboard navigation support
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowLeft') {
    prevBtn.click();
  } else if (e.key === 'ArrowRight') {
    nextBtn.click();
  } else if (e.key === 'Escape' && videoModal.classList.contains('active')) {
    videoModal.classList.remove('active');
    videoPlayer.pause();
  }
});

// Video modal functionality
function openVideoModal() {
  const currentCharacter = characters[currentIndex];
  if (currentCharacter.video) {
    videoPlayer.src = currentCharacter.video;
    videoModal.classList.add('active');
    videoPlayer.play();
  }
}

function closeVideoModal() {
  videoModal.classList.remove('active');
  videoPlayer.pause();
  videoPlayer.src = '';
}

// Video button event listener
infoVideoBtn.addEventListener('click', openVideoModal);
videoClose.addEventListener('click', closeVideoModal);

// Close modal when clicking outside the video
videoModal.addEventListener('click', (e) => {
  if (e.target === videoModal) {
    closeVideoModal();
  }
});
</script>
</body>
</html>